<Window x:Class="CMCS.ApprovalsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Approvals - Coordinator" Height="520" Width="800" WindowStartupLocation="CenterScreen">
 <Grid Margin="15" Background="#F5F7FA">

    <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="*"/>
    </Grid.RowDefinitions>

    <!-- HEADER BAR -->
    <Border Background="LightBlue" CornerRadius="10" Padding="15" Margin="0,0,0,10"
            BorderBrush="#DDDDDD" BorderThickness="1">
        <DockPanel>

            <!-- Title -->
            <TextBlock Text="Pending Claims"
                       FontSize="22"
                       FontWeight="SemiBold"
                       Foreground="#2C3E50"
                       DockPanel.Dock="Left"/>

            <!-- Buttons -->
            <StackPanel Orientation="Horizontal" DockPanel.Dock="Right">

                <Button Content="⟳ Refresh"
                        Width="110"
                        Margin="15,0,1,0"
                        Padding="15,5"
                        Background="#3498DB"
                        Foreground="White"
                        BorderThickness="0"
                        Click="BtnRefresh_Click"/>

                <Button Content="Logout"
                        Width="100"
                        Padding="10,5"
                        Background="#E74C3C"
                        Foreground="White"
                        BorderThickness="0"
                        Click="BtnLogout_Click"/>

            </StackPanel>

        </DockPanel>
    </Border>


    <!-- CLAIMS TABLE -->
    <Border Grid.Row="1"
            Background="White"
            CornerRadius="10"
            BorderBrush="#DDDDDD"
            BorderThickness="1"
            Padding="10">

        <DataGrid x:Name="dgClaims"
                  AutoGenerateColumns="False"
                  CanUserAddRows="False"
                  HeadersVisibility="Column"
                  GridLinesVisibility="None"
                  RowHeight="38"
                  FontSize="13"
                  Background="White">

            <!-- COLUMN HEADERS STYLE -->
            <DataGrid.Resources>
                <Style TargetType="DataGridColumnHeader">
                    <Setter Property="FontWeight" Value="SemiBold"/>
                    <Setter Property="Background" Value="#ECF0F1"/>
                    <Setter Property="Foreground" Value="#2C3E50"/>
                    <Setter Property="Padding" Value="8"/>
                </Style>
            </DataGrid.Resources>

            <!-- COLUMNS -->
            <DataGrid.Columns>
                <DataGridTextColumn Header="ID" Binding="{Binding ClaimId}" Width="60"/>
                <DataGridTextColumn Header="User ID" Binding="{Binding UserId}" Width="100"/>
                <DataGridTextColumn Header="Hours" Binding="{Binding HoursWorked}" Width="80"/>
                <DataGridTextColumn Header="Rate" Binding="{Binding HourlyRate}" Width="80"/>
                <DataGridTextColumn Header="Notes" Binding="{Binding Notes}" Width="*"/>
                <DataGridTextColumn Header="Status" Binding="{Binding Status}" Width="120"/>

                <!-- ACTION BUTTONS -->
                <DataGridTemplateColumn Header="Actions" Width="260">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">

                                <Button Content="Open"
                                        Margin="3"
                                        Padding="8,4"
                                        Background="#BDC3C7"
                                        BorderThickness="0"
                                        Click="BtnOpen_Click"/>

                                <Button Content="Approve"
                                        Margin="3"
                                        Padding="8,4"
                                        Background="Green" 
                                        Foreground="DarkGray"
                                        BorderThickness="0"
                                        Click="BtnApprove_Click"/>

                                <Button Content="Reject"
                                        Margin="3"
                                        Padding="8,4"
                                        Background="Red"
                                        Foreground="DarkGray"
                                        BorderThickness="0"
                                        Click="BtnReject_Click"/>

                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>

            </DataGrid.Columns>

            <!-- ROW COLOR LOGIC -->
            <DataGrid.RowStyle>
                <Style TargetType="DataGridRow">

                    <Setter Property="Background" Value="White"/>
                    <Setter Property="BorderThickness" Value="0,0,0,1"/>
                    <Setter Property="BorderBrush" Value="#EEEEEE"/>

                    <Style.Triggers>

                        <DataTrigger Binding="{Binding Status}" Value="Approved">
                            <Setter Property="Background" Value="#D5F5E3"/>
                            <Setter Property="IsEnabled" Value="False"/>
                        </DataTrigger>

                        <DataTrigger Binding="{Binding Status}" Value="Rejected">
                            <Setter Property="Background" Value="#FADBD8"/>
                            <Setter Property="IsEnabled" Value="False"/>
                        </DataTrigger>

                    </Style.Triggers>

                </Style>
            </DataGrid.RowStyle>

        </DataGrid>

    </Border>

</Grid>

</Window>
